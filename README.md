# ML Training Platform

ะะฐัะฟัะตะดะตะปัะฝะฝะฐั ะฟะปะฐััะพัะผะฐ ะดะปั ะพะฑััะตะฝะธั ML ะผะพะดะตะปะตะน ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ะดะฐัะฐัะตัะฐั. ะัะพะตะบั ัะฐะทัะฐะฑะพัะฐะฝ ะฒ ัะฐะผะบะฐั ะบัััะฐ ะฟะพ ัะฐัะฟัะตะดะตะปัะฝะฝัะผ ัะธััะตะผะฐะผ.

## ะงัะพ ััะพ?

ะะตะฑ-ะฟัะธะปะพะถะตะฝะธะต, ะณะดะต ะผะพะถะฝะพ:
- ะะฐะณััะทะธัั ัะฒะพะน CSV ะดะฐัะฐัะตั
- ะัะฑัะฐัั ะผะพะดะตะปั ะผะฐัะธะฝะฝะพะณะพ ะพะฑััะตะฝะธั (Linear Regression, Random Forest, Gradient Boosting, etc.)
- ะะฐะฟัััะธัั ะพะฑััะตะฝะธะต ั ะบะฐััะพะผะฝัะผะธ ะณะธะฟะตัะฟะฐัะฐะผะตััะฐะผะธ
- ะะพะปััะธัั ะพะฑััะตะฝะฝัั ะผะพะดะตะปั ะธ ะผะตััะธะบะธ

ะัั ััะพ ัะฐะฑะพัะฐะตั ะฐัะธะฝััะพะฝะฝะพ ัะตัะตะท Kafka, ัะฐะบ ััะพ ะผะพะถะฝะพ ะทะฐะฟััะบะฐัั ะฝะตัะบะพะปัะบะพ ัะบัะฟะตัะธะผะตะฝัะพะฒ ะฟะฐัะฐะปะปะตะปัะฝะพ.

## ะัะฝะพะฒะฝัะต ัะธัะธ

- ๐ ะะตะณะธัััะฐัะธั ะธ JWT-ะฐะฒัะพัะธะทะฐัะธั
- ๐ ะะฐะณััะทะบะฐ CSV ะดะฐัะฐัะตัะพะฒ (ะดะพ 10k ัััะพะบ, 50 ะบะพะปะพะฝะพะบ)
- ๐ค ะะฑััะตะฝะธะต ะผะพะดะตะปะตะน ะธะท scikit-learn
- ๐ ะะฒัะพะผะฐัะธัะตัะบะธะน ัะฐัััั ะผะตััะธะบ (R2, MSE ะฝะฐ train/test)
- ๐พ ะฅัะฐะฝะตะฝะธะต ะผะพะดะตะปะตะน ะธ ะดะฐัะฐัะตัะพะฒ ะฒ S3
- โก ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ัะตัะตะท Kafka
- ๐จ ะกะพะฒัะตะผะตะฝะฝัะน React-ััะพะฝัะตะฝะด

## ะััะธัะตะบัััะฐ

### ะกะตัะฒะธัั

```
                     โโโโโโโโโโโโโโโโ
                     โ  PostgreSQL  โ
                     โ      DB      โ
                     โโโโโโโโโฒโโโโโโโ
                             โ
โโโโโโโโโโโโโโโ      โโโโโโโโดโโโโโโโโ      โโโโโโโโโโโโโโ
โ   Frontend  โโโโโโโถโ Core Service โโโโโโโถโ  Artifacts โ
โ   (React)   โ      โ   (FastAPI)  โ      โ  Service   โ
โโโโโโโโโโโโโโโ      โโโโโโโโโฌโโโโโโโ      โโโโโโโโฌโโโโโโ
                             โ                    โ
                             โ                    โผ
                      โโโโโโโโผโโโโโโโ      โโโโโโโโโโโโโโโ
                      โ    Kafka    โ      โ   MinIO     โ
                      โ   (Queue)   โ      โ    (S3)     โ
                      โโโโโโโโฌโโโโโโโ      โโโโโโโโฒโโโโโโโ
                             โ                    โ
                             โผ                    โ
                      โโโโโโโโโโโโโโโโ            โ
                      โ    Train     โโโโโโโโโโโโโโ
                      โ   Service    โ  (read/write)
                      โ  (FastAPI)   โ
                      โโโโโโโโโโโโโโโโ
```

**Core Service** (ะฟะพัั 8000)
- ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ (ัะตะณะธัััะฐัะธั, ะฐะฒัะพัะธะทะฐัะธั)
- CRUD ะดะปั runs (ะทะฐะฟััะบะพะฒ ะพะฑััะตะฝะธั)
- ะัะฟัะฐะฒะบะฐ ะทะฐะดะฐั ะฝะฐ ะพะฑััะตะฝะธะต ะฒ Kafka
- ะะฑะฝะพะฒะปะตะฝะธะต ััะฐัััะพะฒ runs

**Artifacts Service** (ะฟะพัั 8001)
- ะะฐะณััะทะบะฐ ะธ ะฒะฐะปะธะดะฐัะธั CSV ะดะฐัะฐัะตัะพะฒ
- ะฅัะฐะฝะตะฝะธะต ัะฐะนะปะพะฒ ะฒ MinIO (S3-ัะพะฒะผะตััะธะผะพะต ััะฐะฝะธะปะธัะต)
- API ะดะปั ะฟะพะปััะตะฝะธั ะธะฝัะพัะผะฐัะธะธ ะพ ะดะฐัะฐัะตัะฐั

**Train Service** (ะฟะพัั 8005)
- ะะพะฝัััะผะตั Kafka ะพัะตัะตะดะธ ั ะทะฐะดะฐัะฐะผะธ
- ะกะบะฐัะธะฒะฐะฝะธะต ะดะฐัะฐัะตัะพะฒ ะธะท S3
- ะะฑััะตะฝะธะต ะผะพะดะตะปะตะน ะฝะฐ scikit-learn
- ะะฐัััั ะผะตััะธะบ ะธ ัะพััะฐะฝะตะฝะธะต ะฐััะตัะฐะบัะพะฒ ะฒ S3
- ะะฑะฝะพะฒะปะตะฝะธะต ััะฐัััะฐ run ัะตัะตะท Core Service API

**Frontend** (ะฟะพัั 80)
- React SPA ั ัะพััะธะฝะณะพะผ
- ะกััะฐะฝะธัั: ัะตะณะธัััะฐัะธั, ะปะพะณะธะฝ, ัะฟะธัะพะบ ะดะฐัะฐัะตัะพะฒ, ัะฟะธัะพะบ runs
- ะะฐะณััะทะบะฐ ัะฐะนะปะพะฒ ะธ ัะพะทะดะฐะฝะธะต ะทะฐะฟััะบะพะฒ ะพะฑััะตะฝะธั

### ะะฝััะฐััััะบัััะฐ

- **PostgreSQL** โ ะพัะฝะพะฒะฝะฐั ะะ ะดะปั users, datasets, runs
- **Kafka + Zookeeper** โ ะพัะตัะตะดั ะทะฐะดะฐั ะฝะฐ ะพะฑััะตะฝะธะต
- **MinIO** โ S3-ัะพะฒะผะตััะธะผะพะต ััะฐะฝะธะปะธัะต ะดะปั ะดะฐัะฐัะตัะพะฒ ะธ ะผะพะดะตะปะตะน
- **Alembic** โ ะผะธะณัะฐัะธะธ ะะ

## ะัััััะน ััะฐัั

### ะขัะตะฑะพะฒะฐะฝะธั

- Docker & Docker Compose
- .env ัะฐะนะป ั ะฝะฐัััะพะนะบะฐะผะธ (ัะผ. ะฝะธะถะต)

### ะะฐะฟััะบ

1. ะกะพะทะดะฐะนัะต `.env` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ:

```env
# PostgreSQL
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=mlplatform
POSTGRES_PASSWORD=your_secure_password
POSTGRES_DATABASE=mlplatform

# JWT
JWT_SECRET=your_super_secret_jwt_key_change_me

# S3 (MinIO)
S3_BUCKET=mlplatform
S3_ENDPOINT_URL=http://minio:9000
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin

# Kafka
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_TOPIC_NAME=ml-training-jobs
```

2. ะะฐะฟัััะธัะต ะฒัั ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน:

```bash
docker-compose up -d
```

3. ะะพะถะดะธัะตัั, ะฟะพะบะฐ ะฒัั ะฟะพะดะฝะธะผะตััั (ะฟะตัะฒัะน ัะฐะท ะผะพะถะตั ะทะฐะฝััั ะฟะฐัั ะผะธะฝัั)

4. ะัะบัะพะนัะต ะฑัะฐัะทะตั: http://localhost

### ะะพะปะตะทะฝัะต ัััะปะบะธ

- Frontend: http://localhost
- Core API: http://localhost:8000/docs
- Artifacts API: http://localhost:8001/docs
- Train API: http://localhost:8005/docs
- MinIO Console: http://localhost:9001 (minioadmin/minioadmin)
- Kafka UI: http://localhost:8080
- pgAdmin: http://localhost:5050 (admin@example.com/admin123)

## ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั?

1. **ะะตะณะธัััะฐัะธั**: ะะพะปัะทะพะฒะฐัะตะปั ัะพะทะดะฐัั ะฐะบะบะฐัะฝั, ะฟะฐัะพะปั ัััะธััะตััั ัะตัะตะท Argon2
2. **ะะฐะณััะทะบะฐ ะดะฐัะฐัะตัะฐ**: CSV ัะฐะนะป ะฒะฐะปะธะดะธััะตััั ะธ ะทะฐะณััะถะฐะตััั ะฒ MinIO ัะตัะตะท Artifacts Service
3. **ะกะพะทะดะฐะฝะธะต run**: ะะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตั ะดะฐัะฐัะตั, ะผะพะดะตะปั ะธ ะณะธะฟะตัะฟะฐัะฐะผะตััั
4. **ะัะตัะตะดั**: Core Service ะพัะฟัะฐะฒะปัะตั ัะพะพะฑัะตะฝะธะต ะฒ Kafka
5. **ะะฑััะตะฝะธะต**: Train Service ะทะฐะฑะธัะฐะตั ะทะฐะดะฐัั, ัะบะฐัะธะฒะฐะตั ะดะฐัะฐัะตั, ะพะฑััะฐะตั ะผะพะดะตะปั
6. **ะะตะทัะปััะฐั**: ะะพะดะตะปั ะธ ะผะตััะธะบะธ ัะพััะฐะฝััััั ะฒ S3, ััะฐััั run ะพะฑะฝะพะฒะปัะตััั

## ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Backend
- **FastAPI** โ ะฒะตะฑ-ััะตะนะผะฒะพัะบ
- **SQLAlchemy 2.0** โ ORM ั async ะฟะพะดะดะตัะถะบะพะน
- **Alembic** โ ะผะธะณัะฐัะธะธ
- **Kafka (confluent-kafka)** โ ะพัะตัะตะดะธ
- **scikit-learn** โ ML ะผะพะดะตะปะธ
- **boto3/aiobotocore** โ S3 ะบะปะธะตะฝั
- **Argon2** โ ัััะธัะพะฒะฐะฝะธะต ะฟะฐัะพะปะตะน
- **PyJWT** โ JWT ัะพะบะตะฝั

### Frontend
- **React 18** โ UI ะฑะธะฑะปะธะพัะตะบะฐ
- **Vite** โ ัะฑะพััะธะบ
- **React Router** โ ัะพััะธะฝะณ

### ะะฝััะฐััััะบัััะฐ
- **PostgreSQL 17** โ ะะ
- **Kafka + Zookeeper** โ ะฑัะพะบะตั ัะพะพะฑัะตะฝะธะน
- **MinIO** โ ะพะฑัะตะบัะฝะพะต ััะฐะฝะธะปะธัะต
- **Docker Compose** โ ะพัะบะตัััะฐัะธั

## ะะฐะทัะฐะฑะพัะบะฐ

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
.
โโโ core-service/          # ะัะฝะพะฒะฝะพะน API ัะตัะฒะธั
โโโ artifacts-service/     # ะกะตัะฒะธั ัะฐะฑะพัั ั ะดะฐัะฐัะตัะฐะผะธ
โโโ train-service/         # ะกะตัะฒะธั ะพะฑััะตะฝะธั ะผะพะดะตะปะตะน
โโโ core-service-frontend/ # React ะฟัะธะปะพะถะตะฝะธะต
โโโ alembic/              # ะะธะณัะฐัะธะธ ะะ
โโโ docker-compose.yaml   # ะัะบะตัััะฐัะธั
โโโ README.md            # ะญัะพั ัะฐะนะป
```

### ะะฐะฟััะบ ะปะพะบะฐะปัะฝะพ (ะดะปั ัะฐะทัะฐะฑะพัะบะธ)

ะะฐะถะดัะน ัะตัะฒะธั ะผะพะถะฝะพ ะทะฐะฟัััะธัั ะพัะดะตะปัะฝะพ, ะฝะพ ะฝัะถะฝะฐ ะธะฝััะฐ (postgres, kafka, minio). ะัะพัะต ะฒัะตะณะพ:

1. ะะพะดะฝััั ะธะฝััั ัะตัะตะท docker-compose
2. ะะฐะฟัััะธัั ะฝัะถะฝัะน ัะตัะฒะธั ะปะพะบะฐะปัะฝะพ ั `uv run`

ะัะธะผะตั ะดะปั core-service:

```bash
cd core-service
uv sync
uv run uvicorn app.api:app --reload
```

### ะะธะณัะฐัะธะธ

ะกะพะทะดะฐัั ะฝะพะฒัั ะผะธะณัะฐัะธั:

```bash
alembic revision --autogenerate -m "description"
```

ะัะธะผะตะฝะธัั ะผะธะณัะฐัะธะธ:

```bash
alembic upgrade head
```

## ะะทะฒะตััะฝัะต ะพะณัะฐะฝะธัะตะฝะธั

- ะะฐัะฐัะตั: ะผะฐะบัะธะผัะผ 10,000 ัััะพะบ ะธ 50 ะบะพะปะพะฝะพะบ
- ะคะพัะผะฐั: ัะพะปัะบะพ CSV ั ะพะฑัะทะฐัะตะปัะฝะพะน ะบะพะปะพะฝะบะพะน `target`
- ะะพะดะตะปะธ: ัะพะปัะบะพ regression ะธะท scikit-learn
- S3: ะธัะฟะพะปัะทัะตั MinIO, ะดะปั production ะฝัะถะตะฝ ะฝะฐััะพััะธะน S3
- Kafka: single broker ะฑะตะท ัะตะฟะปะธะบะฐัะธะธ

## ะะฒัะพัั

Team 7 โ ITMO Distributed Systems Course

## ะะธัะตะฝะทะธั

MIT

